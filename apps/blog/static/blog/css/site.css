/* apps/blog/static/blog/css/site.css */

/* ---------- Base ---------- */
html, body {
  height: 100%;
}
body {
  margin: 0;
  background: #000;
  color: #fff;
}

/* ---------- Text helpers ---------- */
.hint {
  color: #aaa;
  font-size: 13px;
  line-height: 1.5;
}
.hint-pad { padding: 6px 0; }

.mt-8 { margin-top: 8px; }
.mt-12 { margin-top: 12px; }

/* ---------- Buttons / Links ---------- */
.btn,
.close-btn {
  border: 1px solid #333;
  background: #151515;
  color: #fff;
  border-radius: 10px;
  padding: 6px 10px;
  cursor: pointer;
  opacity: 0.88;
  text-decoration: none;
  display: inline-block;
}
.btn:hover,
.close-btn:hover { opacity: 1; }

/* ---------- Board header / Flag ---------- */
.board-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
}

.flag-img {
  display: block;
  margin: 10px 0 8px;
  border-radius: 6px;
}

/* ---------- Tabs ---------- */
.tabs {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-top: 10px;
}
.tabs a {
  border: 1px solid #333;
  background: #0b0b0b;
  color: #fff;
  border-radius: 10px;
  padding: 8px 10px;
  text-decoration: none;
  opacity: 0.9;
}
.tabs a:hover { opacity: 1; }
.tabs a.active {
  background: #151515;
}

/* ---------- Search ---------- */
.search {
  margin-top: 10px;
  display: flex;
  gap: 8px;
}
.search-input {
  flex: 1;
  padding: 10px 12px;
  border-radius: 10px;
  border: 1px solid #333;
  background: #0b0b0b;
  color: #fff;
  outline: none;
}
.search-btn {
  padding: 10px 12px;
  border-radius: 10px;
  border: 1px solid #333;
  background: #151515;
  color: #fff;
  cursor: pointer;
}

/* ---------- TOC (post list) ---------- */
.toc {
  margin-top: 10px;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.toc-link {
  display: block;
  padding: 10px 12px;
  border-radius: 10px;
  border: 1px solid #222;
  background: #0b0b0b;
  color: #fff;
  text-decoration: none;
  opacity: 0.92;
}
.toc-link:hover { opacity: 1; }
.toc-link.active {
  border-color: #444;
  background: #151515;
}

/* ---------- Pager ---------- */
.pager {
  display: flex;
  gap: 10px;
  align-items: center;
  margin-top: 10px;
}
.pager-nav {
  display: inline-flex;
  gap: 10px;
  align-items: center;
}

/* ---------- Content ---------- */
.content {
  margin-top: 12px;
}
.cover-img {
  width: 100%;
  height: auto;
  border-radius: 10px;
  display: block;
  margin: 10px 0 12px;
}

/* ---------- Markdown inserted image (B: [[img:id]]) ---------- */
/* 실제 렌더링 HTML은 <figure class="md-img"><img ...><figcaption ...> 구조라서
   클래스(.md-img__img/.md-img__cap) 대신 descendant selector가 안전합니다. */
.md-img { margin: 12px 0; }
.md-img img {
  width: 100%;
  height: auto;
  border-radius: 10px;
  display: block;
}
.md-img figcaption { margin-top: 6px; }

/* ---------- Gallery (A: 본문 아래 자동 갤러리) ---------- */
.gallery { margin-top: 12px; }

.gallery-item {
  margin: 0 0 12px 0;
}
.gallery-item img {
  width: 100%;
  height: auto;
  border-radius: 10px;
  display: block;
}
.gallery-item figcaption { margin-top: 6px; }



/* ---------- Lightbox ---------- */
.lightbox {
  position: fixed;
  inset: 0;
  display: none;
  align-items: center;
  justify-content: center;
  padding: 18px;
  background: rgba(0,0,0,0.78);
  z-index: 9999;
}
.lightbox.open,
.lightbox[aria-hidden="false"] {
  display: flex;
}
.lightbox img {
  max-width: min(1100px, 96vw);
  max-height: 82vh;
  border-radius: 12px;
  -webkit-user-drag: none;
  user-select: none;
}
.lightbox .hint {
  margin-top: 10px;
  text-align: center;
  opacity: 0.9;
}
html.lb-open, html.lb-open body {
  overflow: hidden;
}

/* Lightbox controls */
.lightbox .lb-control {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 44px;
  height: 44px;
  border: 0;
  border-radius: 10px;

  background: rgba(0,0,0,0.85);
  color: #fff;

  font-size: 28px;
  line-height: 44px;
  text-align: center;

  cursor: pointer;
  user-select: none;

  z-index: 10001;
  box-shadow: 0 6px 18px rgba(0,0,0,0.35);
}

.lightbox .lb-prev { left: 24px; }
.lightbox .lb-next { right: 24px; }

.lightbox .lb-control:hover {
  background: rgba(0,0,0,0.95);
}

.lightbox .lb-control:focus-visible {
  outline: 2px solid rgba(255,255,255,0.75);
  outline-offset: 2px;
}

@media (max-width: 640px) {
  .lightbox .lb-prev { left: 14px; }
  .lightbox .lb-next { right: 14px; }
}


/* Lightbox loading */
.lightbox .lb-loading {
  position: absolute;
  inset: 0;
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 10000;
  pointer-events: none;
}

.lightbox.loading .lb-loading {
  display: flex;
}

.lightbox .lb-spinner {
  width: 42px;
  height: 42px;
  border-radius: 999px;
  border: 3px solid rgba(255,255,255,0.18);
  border-top-color: rgba(255,255,255,0.9);
  animation: lbspin 0.9s linear infinite;
}

@keyframes lbspin {
  to { transform: rotate(360deg); }
}

/* 이미지 페이드 인 */
.lightbox img {
  opacity: 1;
  transition: opacity 140ms ease;
}
.lightbox.loading img {
  opacity: 0.25;
}





html, body {
  height: 100%;
  background: #000;
}

body { margin:0; font-family: system-ui, sans-serif; overflow-x: hidden; }
.wrap { display:flex; min-height:100vh; background:#000; transition: padding-right 240ms ease; }

/* =========================
   LEFT: Globe area (항상 중앙)
   ========================= */
.globe {
  flex: 1;
  background:#000;
  color:#fff;
  height: 100vh;
  overflow: hidden;

  display: flex;
  align-items: center;
  justify-content: center;
}

/* 지구본 + UI가 들어가는 정사각 shell (좌측 영역에서 중앙) */
.globe-shell {
  position: relative;

  width: min(720px, 92vmin);
  aspect-ratio: 1 / 1;

  max-width: 100%;
  max-height: 100%;
}

/* WebGL mount: shell을 꽉 채움 */
.globe-mount {
  position: absolute;
  inset: 0;
}

/* UI 오버레이: shell 위에 떠있음(레이아웃 밀지 않음) */
.globe-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;

  display: flex;
  flex-direction: column;
  align-items: center;

  padding: 26px 18px 0;
  z-index: 10;

  pointer-events: none; /* 캔버스 드래그 방해 최소화 */
}

/* overlay 내부에서 클릭 가능한 래퍼 */
.globe-overlay .overlay-inner {
  width: min(560px, 92%);
  pointer-events: auto;
}


.globe-title {
  margin: 0 0 12px 0;
  font-size: 26px;
  font-weight: 800;
  letter-spacing: 0.2px;
  line-height: 1.1;

  /* 가독성만 살짝 */
  text-shadow: 0 8px 22px rgba(0,0,0,0.55);
}

/* 검색 영역 */
.search-wrap {
  position: relative; /* 드롭다운 absolute 기준 */
}

.country-search {
  width: 100%;
  padding: 11px 12px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(10,10,10,0.55);
  color: #fff;
  outline: none;
  backdrop-filter: blur(8px);
}

/* ✅ 드롭다운 리스트: absolute로 떠서 지구본을 덮음(아래로 밀지 않음) */
.country-list {
  display: none;
  position: absolute;
  top: calc(100% + 10px);
  left: 0;
  right: 0;

  max-height: 260px;
  overflow: auto;
  border: 1px solid rgba(255,255,255,0.10);
  border-radius: 12px;
  padding: 10px;
  background: rgba(11,11,11,0.92);

  z-index: 20;
}

/* 포커스 중 또는 검색어가 있을 때만 표시 */
.search-wrap:focus-within .country-list { display: block; }
.country-list.has-query { display: block; }

.country-link {
  display:block;
  padding: 6px 8px;
  border-radius: 8px;
  text-decoration: none;
  opacity: .85;
  color: inherit;
}
.country-link:hover { background:#141414; opacity: 1; }
.country-link.active { background:#1a1a1a; text-decoration: underline; opacity: 1; }

.hint { opacity:.7; font-size: 14px; }

/* =========================
   Board (right)
   ========================= */
.board {
  position: fixed;
  top: 0;
  right: 0;
  height: 100vh;

  width: 420px;
  border-left: 1px solid #222;
  padding: 16px;
  background: #111;
  color:#fff;

  display: flex;
  flex-direction: column;

  transform: translateX(100%);
  opacity: 0;
  pointer-events: none;
  transition: transform 240ms ease, opacity 240ms ease;
}

.wrap.has-board .board {
  transform: translateX(0);
  opacity: 1;
  pointer-events: auto;
}

.wrap.closing .board {
  transform: translateX(100%);
  opacity: 0;
  pointer-events: none;
}

.wrap.has-board { padding-right: 420px; }
.wrap.no-board { padding-right: 0; }

/* ✅ 글 선택(읽기 모드)일 때: 목차/페이지네이션 숨김 */
#board.reading .toc { display: none; }
#board.reading .pager .pager-nav { display: none; }
#board.reading .pager .pager-back { display: inline-block; }

.pager { display:flex; gap:10px; align-items:center; margin-top:10px; }
.pager .pager-back { display: inline-block; }
.pager .pager-nav { display: inline-flex; gap:10px; align-items:center; }

#board.reading .content { margin-top: 10px; }

/* _board.html 공용 스타일 */
.board-header {
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap: 12px;
}

.close-btn {
  border: 1px solid #333;
  background: #151515;
  color: #fff;
  border-radius: 10px;
  padding: 6px 10px;
  cursor: pointer;
  opacity: .85;
  text-decoration: none;
}
.close-btn:hover { opacity: 1; }

.tabs { margin-top:14px; }
.tabs a { margin-right: 10px; opacity:.7; text-decoration:none; color: inherit; }
.tabs a.active { opacity:1; text-decoration:underline; }

.toc {
  margin-top: 12px;
  overflow: auto;
  border: 1px solid #222;
  border-radius: 10px;
  padding: 10px;
  background: #0f0f0f;
  max-height: 280px;
}
.toc a { display:block; padding:6px 0; text-decoration:none; border-bottom:1px solid #222; opacity:.8; color: inherit; }
.toc a.active { text-decoration: underline; opacity: 1; }

.content {
  margin-top: 12px;
  padding-top: 12px;
  border-top:1px solid #222;
  white-space: pre-wrap;
  flex: 1;
  overflow: auto;
  padding-right: 6px;
}
.content p { margin: 0 0 12px 0; line-height: 1.7; }
.content h1, .content h2, .content h3 { margin: 16px 0 10px; }
.content ul, .content ol { padding-left: 18px; margin: 8px 0 12px; }
.content a { text-decoration: underline; }
.content img { max-width: 100%; height: auto; border-radius: 10px; }

.content pre {
  padding: 12px;
  border: 1px solid #222;
  border-radius: 10px;
  overflow: auto;
  background: #0b0b0b;
}
.content code {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: 13px;
}

.htmx-indicator {
  position: fixed;
  top: 12px;
  right: 12px;
  z-index: 9999;

  display: none;
  padding: 8px 10px;
  border: 1px solid #333;
  border-radius: 10px;
  background: #151515;
  color: #fff;
  opacity: .9;
  font-size: 13px;
}
.htmx-indicator { display:none; }
.htmx-request .htmx-indicator,
.htmx-request.htmx-indicator { display:inline-block; }

/* 갤러리/본문 이미지 */
.gallery { display: flex; flex-direction: column; gap: 12px; margin-top: 12px; }
.gallery-item { margin: 0; }
.gallery-item img { display: block; width: 100%; border-radius: 10px; }

.md-img img {
  display: block;
  width: 100%;
  border-radius: 10px;
}
/* flag-icons 크기 조절 */
.fi {
  display: inline-block;
  width: 28px;
  height: 21px; /* 4:3 */
  border-radius: 6px;
  vertical-align: -3px;
}

/* 정사각(fis) 쓸 때 */
.fis {
  width: 22px;
  height: 22px;
}

/* =========================
   Phase 2-1: Board states
   - stable swap target: #boardContent
   ========================= */

#boardContent.board-content {
  display: flex;
  flex-direction: column;
  min-height: 0;
  flex: 1;
}

/* Overlays inside board */
#board {
  position: fixed;
}

.board-overlay {
  position: absolute;
  inset: 0;
  z-index: 50;

  display: flex;
  align-items: center;
  justify-content: center;

  padding: 16px;

  background: rgba(17,17,17,0.92);
  backdrop-filter: blur(6px);
}

.board-overlay[hidden] { display: none !important; }

.board-error-box {
  width: 100%;
  max-width: 360px;
  border: 1px solid #2a2a2a;
  border-radius: 14px;
  padding: 14px 14px 12px;
  background: rgba(10,10,10,0.65);
  box-shadow: 0 10px 28px rgba(0,0,0,0.35);
}

.board-error-title {
  font-size: 16px;
  font-weight: 800;
  margin-bottom: 6px;
}

.board-error-actions {
  display: flex;
  gap: 8px;
  margin-top: 12px;
  justify-content: flex-end;
}

/* Skeleton */
.board-skeleton {
  width: 100%;
  max-width: 420px;
}

.sk-row {
  display: flex;
  gap: 10px;
  align-items: center;
}

.sk-col {
  flex-direction: column;
  align-items: stretch;
  gap: 10px;
}

.sk-spacer { height: 14px; }

.sk-line,
.sk-chip,
.sk-card {
  position: relative;
  overflow: hidden;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,0.06);
  background: rgba(255,255,255,0.06);
}

.sk-line { height: 14px; }
.sk-line.sk-40 { width: 40%; }
.sk-line.sk-60 { width: 60%; }
.sk-line.sk-70 { width: 70%; }
.sk-line.sk-75 { width: 75%; }
.sk-line.sk-85 { width: 85%; }

.sk-chip {
  width: 88px;
  height: 32px;
  border-radius: 999px;
}

.sk-card {
  height: 44px;
  border-radius: 12px;
}

.sk-line::before,
.sk-chip::before,
.sk-card::before {
  content: "";
  position: absolute;
  inset: 0;
  transform: translateX(-40%);
  background: linear-gradient(
    90deg,
    rgba(255,255,255,0.02),
    rgba(255,255,255,0.10),
    rgba(255,255,255,0.02)
  );
  animation: skshine 1.1s ease-in-out infinite;
}

@keyframes skshine {
  0% { transform: translateX(-60%); }
  100% { transform: translateX(60%); }
}

/* Empty state */
.board-empty {
  padding: 12px 4px;
}
/* Phase 2-2: Empty state box inside TOC */
.board-emptybox{
  border: 1px solid #222;
  border-radius: 12px;
  padding: 12px;
  background: #0b0b0b;
}
.board-emptytitle{
  font-size: 15px;
  font-weight: 800;
  margin: 0 0 6px 0;
}
.board-emptyactions{
  margin-top: 10px;
  display: flex;
  justify-content: flex-end;
}
mark{
  background: rgba(255,255,255,.18);
  color: inherit;
  padding: 0 2px;
  border-radius: 4px;
}
/* =========================
   Phase 2-4: Lightbox UX
   - counter + thumbnail strip
   ========================= */

.lightbox .lb-counter{
  position: absolute;
  top: 14px;
  left: 14px;
  z-index: 10002;

  padding: 6px 10px;
  border-radius: 10px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(0,0,0,0.70);
  color: rgba(255,255,255,0.92);

  font-size: 12px;
  line-height: 1;
  letter-spacing: 0.2px;
}

.lightbox .lb-thumbs{
  position: absolute;
  left: 50%;
  bottom: 14px;
  transform: translateX(-50%);
  z-index: 10002;

  width: min(900px, 92vw);
  padding: 8px 10px;

  border-radius: 12px;
  border: 1px solid rgba(255,255,255,0.08);
  background: rgba(0,0,0,0.55);
  backdrop-filter: blur(6px);
}

.lightbox .lb-thumbs__track{
  display: flex;
  gap: 8px;
  overflow-x: auto;
  overflow-y: hidden;
  padding-bottom: 2px;
  scrollbar-width: thin;
}

.lightbox .lb-thumb{
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(0,0,0,0.35);
  border-radius: 10px;
  padding: 0;
  cursor: pointer;
  opacity: 0.85;
  flex: 0 0 auto;
}

.lightbox .lb-thumb:hover{ opacity: 1; }

.lightbox .lb-thumb img{
  width: 54px;
  height: 40px;
  object-fit: cover;
  border-radius: 10px;
  display: block;
}

.lightbox .lb-thumb.is-active{
  opacity: 1;
  border-color: rgba(255,255,255,0.35);
  box-shadow: 0 6px 18px rgba(0,0,0,0.35);
}

@media (max-width: 640px){
  .lightbox .lb-thumb img{
    width: 48px;
    height: 36px;
  }
}
/* =========================
   Phase 2-5: Search UX
   - country keyboard highlight
   - board recent search dropdown
   ========================= */

.country-link.kbd-active{
  background: #141414;
  opacity: 1;
  outline: 1px solid rgba(255,255,255,0.18);
}

/* Board search dropdown */
.board-search-wrap{
  position: relative;
}

.search-suggest{
  position: absolute;
  top: calc(100% + 8px);
  left: 0;
  right: 0;
  z-index: 60;

  border: 1px solid rgba(255,255,255,0.10);
  border-radius: 12px;
  background: rgba(11,11,11,0.95);
  backdrop-filter: blur(6px);

  padding: 10px;
}

.search-suggest__head{
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: 10px;
  margin-bottom: 8px;
}

.search-suggest__clear{
  border: 1px solid #333;
  background: #151515;
  color: #fff;
  border-radius: 10px;
  padding: 6px 10px;
  cursor: pointer;
  opacity: 0.88;
}
.search-suggest__clear:hover{ opacity: 1; }

.search-suggest__list{
  display:flex;
  flex-direction: column;
  gap: 6px;
  max-height: 240px;
  overflow: auto;
}

.search-suggest__item{
  text-align: left;
  border: 1px solid #222;
  background: #0b0b0b;
  color: #fff;
  border-radius: 10px;
  padding: 10px 12px;
  cursor: pointer;
  opacity: 0.92;
}
.search-suggest__item:hover{ opacity: 1; }
.search-suggest__item.is-active{
  border-color: #444;
  background: #151515;
  opacity: 1;
}

@media (max-width: 640px){
  .search-suggest{
    padding: 9px;
  }
}
/* =========================
   Phase 2-3: Mobile board fullscreen + touch UX
   ========================= */

/* 보드 오픈 시 배경 스크롤 방지(모바일 체감 개선) */
html.board-open,
html.board-open body {
  overflow: hidden;
}

/* 모바일: 보드를 전체화면 슬라이드 패널로 */
@media (max-width: 820px) {
  /* 데스크톱용 padding-right 강제 해제 */
  .wrap.has-board { padding-right: 0 !important; }

  /* globe 영역 애니메이션 + 보드 오픈 시 터치 차단 */
  .globe {
    transition: transform 240ms ease, opacity 240ms ease;
    will-change: transform, opacity;
  }
  .wrap.has-board .globe {
    transform: translateX(-100%);
    opacity: 0;
    pointer-events: none;
  }

  /* board: 100vw fullscreen */
  .board {
    width: 100vw;
    border-left: 0;

    /* safe-area 대응 */
    padding-left: calc(16px + env(safe-area-inset-left));
    padding-right: calc(16px + env(safe-area-inset-right));
    padding-top: calc(16px + env(safe-area-inset-top));
    padding-bottom: calc(16px + env(safe-area-inset-bottom));
  }

  /* 헤더 상단 고정(닫기 버튼 항상 보이게) */
  .board-header {
    position: sticky;
    top: 0;
    z-index: 6;

    background: #111;
    border-bottom: 1px solid #222;

    /* sticky 영역을 패딩 밖으로 확장 */
    margin: calc(-16px - env(safe-area-inset-top)) calc(-16px - env(safe-area-inset-right)) 10px calc(-16px - env(safe-area-inset-left));
    padding: calc(12px + env(safe-area-inset-top)) calc(16px + env(safe-area-inset-right)) 12px calc(16px + env(safe-area-inset-left));
  }

  /* 보드 내부 스크롤 튐 완화 */
  .toc,
  .content {
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
  }

  /* 모바일에서 TOC가 너무 길면 콘텐츠 영역을 압박하니 상한 설정 */
  .toc { max-height: 32vh; }

  /* 스크롤 제스처는 세로에 집중 */
  #board,
  #board .toc,
  #board .content {
    touch-action: pan-y;
  }
}
/* Phase 2-3: Mobile fullscreen board (globe slide-out + board slide-in) */
@media (max-width: 820px) {
  /* 데스크톱용 패딩(420px 밀기) 모바일에서는 해제 */
  .wrap.has-board { padding-right: 0; }

  /* 보드: 화면폭에 딱 맞추기 + padding 포함해서 폭 계산 */
  .board {
    width: 100vw;
    box-sizing: border-box; /* ✅ 이게 핵심: padding 때문에 잘리는 문제 방지 */
    right: 0;
    left: auto; /* 안전용 */
  }

  /* 보드가 열리면 globe는 왼쪽으로 슬라이드 아웃 + 터치 차단 */
  .globe {
    transition: transform 240ms ease, opacity 240ms ease;
    will-change: transform, opacity;
  }
  .wrap.has-board .globe {
    transform: translateX(-100%);
    opacity: 0;
    pointer-events: none;
  }
}
/* =========================
   Phase 2-4: Mobile sticky header (header + tabs + search)
   ========================= */
@media (max-width: 820px) {
  /* 헤더/탭/검색을 상단에 고정 */
  .board-sticky {
    position: sticky;
    top: 0;
    z-index: 20;
    background: #111;
    border-bottom: 1px solid #222;
    overflow: visible; /* 최근검색 드롭다운이 잘리지 않게 */
    padding-top: env(safe-area-inset-top);
  }

  /* 닫기 버튼: 터치 타겟 확보(최소 44px) */
  .board-header .close-btn {
    min-width: 44px;
    min-height: 44px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0 12px;
  }

  /* 탭: 모바일에서 가로 스크롤 가능하게 */
  .tabs {
    overflow-x: auto;
    overflow-y: hidden;
    white-space: nowrap;
    -webkit-overflow-scrolling: touch;
    overscroll-behavior-x: contain;
  }
  .tabs::-webkit-scrollbar { height: 0; }
  .tabs a { display: inline-flex; }

  /* 검색 드롭다운이 헤더 위로 올라오게 */
  .board-search-wrap,
  .search-suggest {
    position: relative;
    z-index: 21;
  }
}
/* =========================
   Phase 2-5: Mobile swipe-to-close support
   ========================= */
@media (max-width: 820px) {
  /* 보드를 모바일에서 full-screen overlay로 고정 */
  .board {
    position: fixed;
    inset: 0;
    width: 100vw;
    box-sizing: border-box;

    /* 슬라이드 기반 */
    transform: translateX(100%);
    transition: transform 240ms ease;
    will-change: transform;
    z-index: 50;

    /* 보드가 닫혀있을 때 터치 먹지 않게 */
    pointer-events: none;
  }

  /* 열리면 화면에 딱 붙음 */
  .wrap.has-board .board {
    transform: translateX(0);
    pointer-events: auto;
  }

  /* 드래그 중에는 transition 끄기(손가락 따라 움직이게) */
  .wrap.dragging .board {
    transition: none;
  }
}
/* =========================
   Phase 2-6: Swipe edge handle (mobile only)
   ========================= */
@media (max-width: 820px) {
  /* 스와이프 전용 엣지 영역(왼쪽 24px) */
  .board-swipe-edge {
    position: absolute;
    top: 0;
    left: 0;
    width: 24px;
    height: 100%;
    z-index: 50;

    /* 손가락 힌트: 아주 은은한 그라데이션(원하면 제거 가능) */
    background: linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0));
    pointer-events: none; /* 기본은 비활성 */
  }

  /* 보드가 열린 상태에서만 엣지 활성화 */
  .wrap.has-board .board-swipe-edge {
    pointer-events: auto;
  }
}
/* =========================
   Phase 2-7: Dim overlay for mobile board (swipe polish)
   ========================= */
@media (max-width: 820px) {
  .board-dim {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.7);
    opacity: 0;
    pointer-events: none;
    transition: opacity 240ms ease;
    z-index: 15; /* 보드(위)보다 낮고, globe(아래)보다 높게 */
  }

  /* 보드가 열리면 딤 활성화 */
  .wrap.has-board .board-dim.on {
    opacity: 0.35; /* 기본값 (JS가 스와이프 중엔 덮어씀) */
    pointer-events: auto;
  }
}
